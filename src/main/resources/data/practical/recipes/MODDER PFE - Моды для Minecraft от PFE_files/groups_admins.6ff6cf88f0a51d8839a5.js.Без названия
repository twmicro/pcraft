!function(e){function t(t){for(var o,n,a=t[0],d=t[1],l=t[2],c=0,u=[];c<a.length;c++)n=a[c],Object.prototype.hasOwnProperty.call(r,n)&&r[n]&&u.push(r[n][0]),r[n]=0;for(o in d)Object.prototype.hasOwnProperty.call(d,o)&&(e[o]=d[o]);for(h&&h(t);u.length;)u.shift()();return s.push.apply(s,l||[]),i()}function i(){for(var e,t=0;t<s.length;t++){for(var i=s[t],o=!0,a=1;a<i.length;a++){var d=i[a];0!==r[d]&&(o=!1)}o&&(s.splice(t--,1),e=n(n.s=i[0]))}return e}var o={},r={"web/groups_admins":0},s=[];function n(t){if(o[t])return o[t].exports;var i=o[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=o,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/js/cmodules/";var a=window.webpackJsonp=window.webpackJsonp||[],d=a.push.bind(a);a.push=t,a=a.slice();for(var l=0;l<a.length;l++)t(a[l]);var h=d;s.push([165,"bundles/common","bundles/e239f4f3bb195925b3389c6e53d22608"]),i()}({"0CRY":function(e,t,i){"use strict";i.r(t),i.d(t,"default",(function(){return C}));var o=i("zxIV"),r=i("EasH"),s=i("Egk5"),n=i("v+DW"),a=(i("pIFo"),i("a1Th"),i("Btvt"),i("SRfc"),"edit_start"),d="crop_success",l="upload_start",h="drag_out",c="drag_enter",u="upload_error";class p{constructor(e,t,i,o,r){this.emitter=r,this.groupId=e,this.thumbId=i,this.uploadOptions=this._getCoverUploadOptions(o,t),this.uploadEl=t,this.editOptions={},this.newEditOptions={},this.curEditOptions={},o.crop_options&&(this.editOptions=o.crop_options),this.mainCoverUpload=Upload.init(t,o.url,{},this.uploadOptions),this.coverCropDoneBtn=ge("owner_photo_done_edit")}onUploadComplete(e,t,i){var o=window.parseJSON(t)||{};if(o.error)return this.showError(o.error),!1;var r=this._getCoverCropUrl(t),s=o.x_src;o.x_src.startsWith("http")||(s=this.uploadOptions.static_url+s);var n={thumb:s,thumbSize:o.x_size,size:o.size,uploadUrl:r};this.edit(!0,!0,n)}edit(e,t,i){if(!this.ownerPhotoThumb||t){var o=this.editOptions;isUndefined(i)||(o=i),this.curEditOptions=o,this.setCropWrap(o),this.ownerPhotoThumb=ge("owner_photo_img"),window.stManager.add(["tagger.css",jsc("web/tagger.js")],this.initTagger.bind(this,o,e))}this.emitter.emit(a)}setCropWrap(e){var t=this.thumbId;toggleClass(t,"no_rotate");var i=this._getCropImageDiv(e);val(t,i)}initTagger(e,t){var i=this._getThumbOpts(e,t);this.ownerPhotoEditTagger&&this.ownerPhotoEditTagger.destroy(),this.ownerPhotoEditTagger=window.photoTagger(this.ownerPhotoThumb,i)}onCropSuccess(e,t,i){this.emitter.emit(d,i)}cropDone(){var e=this.ownerPhotoEditTagger.result(),t=this.curEditOptions,i=t.size[0]/t.thumbSize[0],o=t.size[1]/t.thumbSize[1],r=[Math.floor(e[0]*i),Math.floor(e[1]*o),Math.ceil(e[2]*i),Math.ceil(e[3]*o)],s=this.cropSuccess.bind(this,!0),a=t.uploadUrl+"&_full="+encodeURIComponent(r.join(","))+"&_rot=0";Object(n.lockButton)(this.coverCropDoneBtn),clearTimeout(this.ownerPhotoCropTimer),this.ownerPhotoCropTimer=setTimeout(this.cropSuccess.bind(this,!0,'{"error":"ERR_CLIENT_UPLOAD_TIMEOUT: no response on owner_photo_crop iframe request"}'),1e4),this.editOptions=t,window.stManager.add([jsc("web/upload.js")],()=>{var e=[0,0,r[2]],t=window.jsonpManager.reg(s);window.utilsNode.appendChild(ce("iframe",{src:a+"&_crop="+e.join(",")+"&_jsonp="+t+"&_origin="+encodeURIComponent(locProtocol+"//"+locHost)}))})}cropSuccess(e,t){if(!0!==e&&(t=e,e=!1),clearTimeout(this.ownerPhotoCropTimer),(window.parseJSON(t)||{}).error)return Object(n.unlockButton)(this.coverCropDoneBtn),console.log("done_edit error"),!1;var i={showProgress:n.lockButton.pbind(this.coverCropDoneBtn),hideProgress:n.unlockButton.pbind(this.coverCropDoneBtn),onDone:this.onCropSuccess.bind(this),onFail:this.onCropFail.bind(this)};ajax.post("al_page.php",{act:"owner_photo_save",_query:t,from:"groups_edit",gid:this.groupId},i)}onCropFail(e){return this.showError(e),!0}_getCropImageDiv(e){var t=e.thumbSize,i=t?"width: "+t[0]+"px; height: "+t[1]+"px;":"";return`<div id="owner_photo_rotate">\n        <div style="${i}margin: 0px auto;">\n          <img class="owner_photo_img" id="owner_photo_img" src="${e.thumb}" style="${i}"/>\n        </div>\n    </div>`}_getCoverUploadOptions(e,t){return{file_name:"photo",file_size_limit:26214400,file_types_description:"Image files (*.jpg, *.jpeg, *.png, *.gif)",file_types:"*.jpg;*.JPG;*.jpeg;*.JPEG;*.png;*.PNG;",clear:1,type:"photo",noFlash:1,max_attempts:3,signed:1,static_url:e.static_url,check_url:e.check_url,base_url:e.base_url,lang:e.lang,dropbox:ge("groups_edit_cover_wrap_main_wrap_drop"),onUploadStart:this.onUploadStart.bind(this),onUploadComplete:this.onUploadComplete.bind(this),onDragEnter:this.onDragEnter.bind(this),onDragOut:this.onDragOut.bind(this)}}onUploadStart(){this.emitter.emit(l)}onDragEnter(){this.emitter.emit(c)}onDragOut(){this.emitter.emit(h)}_getCoverCropUrl(e){return this.uploadOptions.base_url+"upload.php?act=owner_cover_crop&_query="+encodeURIComponent(e)+"&_origin="+encodeURIComponent(window.locProtocol+"//"+window.locHost)}_getThumbOpts(e,t){var i=e.size,o=e.thumbSize,r=[Math.max(200,Math.ceil(795*o[0]/i[0])),Math.max(50,Math.ceil(200*o[1]/i[1]))];if(o[0]<r[0]||o[1]<r[1])return console.log("error"),!1;var s=1.5;return s=t?this._getRect(e):this._getRectStrict(e),{minw:r[0],minh:r[1],mina:3.975,maxa:3.975,rect:s,zstart:1e3}}_getRectStrict(e){var t=e.size,i=e.thumbSize;return{left:Math.floor(e.rect[0]*i[0]/t[0]),top:Math.floor(e.rect[1]*i[1]/t[1]),width:Math.ceil(e.rect[2]*i[0]/t[0]),height:Math.ceil(e.rect[3]*i[1]/t[1])}}_getRect(e){var t=e.thumbSize,i=1.5;return t[1]>=t[0]/3.975?(i={width:t[0]}).height=Math.ceil(i.width/3.975):(i={height:t[1]}).width=Math.ceil(3.975*i.height),i.height>1.5*i.width&&(i.height=Math.floor(1.5*i.width)),i.left=Math.floor((t[0]-i.width)/2),i.top=Math.floor((t[1]-i.height)/2),i}showError(e){e.match(/^ERR_[A-Z0-9_]+(\:|$)/)||(e='ERR_CLIENT_BAD_ERROR: error "'+clean(e.toString())+'"');var t=e.match(/^(ERR_[A-Z0-9_]+)(\:\s*|$)([\S\s]*)\s*$/),i=t[1],o="";switch(i){case"ERR_UPLOAD_FILE_NOT_SUPPORTED":o=getLang("profile_oph_err_format");break;case"ERR_UPLOAD_FILE_NOT_UPLOADED":o=getLang("profile_oph_err_upload").replace("{link}",'<a href="/support?act=new&from=ph">').replace("{/link}","</a>");break;case"ERR_UPLOAD_BAD_IMAGE_SIZE":o=getLang("groups_cover_photo_error_size").replace("{width}","795").replace("{height}","200");break;case"ERR_UPLOAD_BIG_IMAGE_SIZE":o=getLang("groups_cover_big_error_size").replace("{size}","14000");break;case"ERR_STORAGE_ENGINE_NOT_CONNECTED":case"ERR_STORAGE_ENGINE_SAVE_FAILED":o=getLang("profile_oph_error_server");break;default:o=getLang("profile_oph_err_unknown").replace("{link}",'<a href="/support?act=new&from=ph">').replace("{/link}","</a>")}return o=o.replace("{sorry}","<b>"+getLang("global_sorry_error")+"</b>")+'<br><a onclick="OwnerPhoto.detailsError(this);">'+getLang("global_error_details")+'</a><div class="unshown">Error: '+i+(t[3]?". Details: "+t[3]:".")+"</div>",this.emitter.emit(u),Object(r.showFastBox)(getLang("global_error"),o)}}var v=i("Klmf"),_=i("t7n3"),g=i("o9iI"),b=5,m=200;class w{constructor(e,t,i,o,r,s){this.groupId=e,this.uploadHash=t,this.saveHash=i,this.file=o,this.emitter=r,this.state=v.UploadStoryState.waiting,this.story={},this.uploadProgressVal=b,this.liveCover=s}start(e){this.state=v.UploadStoryState.uploading;var t={act:"stories_get_upload_url",id:this.groupId,type:this._isPhoto()?"photo":"video",hash:this.uploadHash,live_cover:this.liveCover};Object(_.isUndefined)(e)||(t.position=e),ajax.post("groupsedit.php",t,{onDone:e=>{this.uploadUrl=e,this.state===v.UploadStoryState.uploading&&this.upload()},onFail:()=>(this._storyUploadDidFailed({unknown:!0}),!0)})}upload(){this.xhr=new XMLHttpRequest,this.xhr.upload.onprogress=this._uploadDidProgress.bind(this),this.xhr.onload=this.xhr.onerror=this._uploadDidFinish.bind(this),this.xhr.open("POST",this.uploadUrl,!0);var e=new FormData;e.append(this._isPhoto()?"file":"video_file",this.file),this.xhr.send(e)}destroy(){try{this.xhr&&this.xhr.abort(),this.xhr=!1}catch(e){}this.emitter.emit(v.UploaderEvents.didDestroyed,this)}_uploadDidProgress(e){var t=e.loaded/e.total;this.uploadProgressVal=(m-b)*t+b,this.emitter.emit(v.UploaderEvents.didProgress,this)}_uploadDidFinish(){if(200===this.xhr.status){var e=JSON.parse(this.xhr.responseText);e?ajax.post("groupsedit.php",{act:"stories_save",group_id:this.groupId,hash:this.saveHash,upload_result:e.response.upload_result},{onDone:e=>{e&&e.story?(this.state=v.UploadStoryState.finished,this._storyUploadDidFinish(e.story)):this._storyUploadDidFailed({unknown:!0})},onFail:()=>{this._storyUploadDidFailed({unknown:!0})}}):this._storyUploadDidFailed(e.error)}else this._storyUploadDidFailed({unknown:!0});this.xhr=!1}_storyUploadDidFinish(e){this.storyRaw=`${e.owner_id}_${e.id}`;var t="video"===e.type?e.video.first_frame_320:Object(g.getPhotoUrl)(e.photo,"x");this.story={preview:t,isVideo:"video"===e.type,videoDuration:"video"===e.type?formatTime(e.video.duration):""},this.emitter.emit(v.UploaderEvents.didUploaded,this)}_storyUploadDidFailed(e){e.unknown||"flood"===e.type?this.state=v.UploadStoryState.failed:(this.emitter.emit(v.UploaderEvents.pushUploadError,this,e),this.emitter.emit(v.UploaderEvents.didRemove,this)),this.emitter.emit(v.UploaderEvents.didFailed,this)}_isPhoto(){return"image"===this.file.type.substr(0,5)}}var f="onUpload",O="onProgress",E="onStart",y="onError";class j{constructor(e,t,i,o,r,s){this.groupId=e,this.wrapEl=t,this.uploadHash=i,this.saveHash=o,this.emitter=r,this.filesCount=s}setCurFilesCount(e){this.filesCount=e}onDidUploaded(e){this.emitter.emit(f,e)}onDidProgress(e){this.emitter.emit(O,e)}onDidFailed(e){this.emitter.emit(y,getLang("groups_live_covers_error_upload_file_error"))}pushFiles(e,t){var i=!1;if(t>0&&(i=!0),e.length+this.filesCount>5&&!i)return this.emitter.emit(y,getLang("groups_live_covers_error_upload_max_count_files")),!1;for(var o=0;o<e.length;o++){var r=e[o];if(r.size>31457280)this.emitter.emit(y,getLang("groups_live_covers_error_upload_max_size"),!0);else{var s=new EventEmitter;s.on(v.UploaderEvents.didUploaded,this.onDidUploaded.bind(this)),s.on(v.UploaderEvents.didProgress,this.onDidProgress.bind(this)),s.on(v.UploaderEvents.didFailed,this.onDidFailed.bind(this));var n=new w(this.groupId,this.uploadHash,this.saveHash,r,s,1);this.emitter.emit(E,o),n.start(t)}}}}class C{constructor(e){this.groupId=e,this.reUploadCoverId=0,this.liveCoverPosition=-1,this.box={}}showBox(){var e={id:this.groupId,act:"edit_box"},t={containerClass:"groups_cover_box",params:{hideButtons:!0,width:655},onDone:this.onShowBoxDone.bind(this)};Object(r.showBox)("groupsedit_cover.php",e,t)}onShowBoxDone(e,t){this.box=e,this.headerEl=Object(o.domQuery1)("#groups_edit_cover_header",this.box.bodyNode),this.contentEl=Object(o.domQuery1)("#groups_edit_cover_wrap",this.box.bodyNode),this.mainCoverEl=Object(o.domQuery1)("#groups_edit_cover_wrap_main_wrap",this.box.bodyNode),this.mainCoverEditEl=Object(o.domQuery1)("#groups_edit_cover_wrap_main_edit",this.box.bodyNode),this.mainCoverImgEl=Object(o.domQuery1)("#groups_edit_cover_wrap_main_edit_img",this.box.bodyNode),this.mainCoverCropEl=Object(o.domQuery1)("#owner_photo_edit",this.box.bodyNode),this.mainCoverUploadEl=Object(o.domQuery1)("#groups_edit_cover_wrap_main_input",this.box.bodyNode),this.mainCoverUploadPlaceholder=Object(o.domQuery1)("#groups_edit_cover_wrap_main_wrap_btn",this.mainCoverEl),this.liveWrapEl=Object(o.domQuery1)("#groups_edit_cover_wrap_live",this.box.bodyNode),this.initEvents(t)}onMainCoverUploadStart(){hide(this.mainCoverEditEl),show(this.mainCoverEl),Object(o.addClass)(this.mainCoverEl,"loading")}onMainCoverDragEnter(){hide(this.mainCoverUploadPlaceholder)}onMainCoverDragOut(){show(this.mainCoverUploadPlaceholder)}onMainCoverUploadError(){Object(o.removeClass)(this.mainCoverEl,"loading"),attr(this.mainCoverImgEl,"src")&&(show(this.mainCoverEditEl),hide(this.mainCoverEl))}initEvents(e){var t=Object(o.domQuery1)(".groups_edit_cover_close",this.box.bodyNode);t&&Object(s.addEvent)(t,"click",()=>{this.box.hide()});var i=this.getMainCoverEmitter();this.uploadMain=new p(this.groupId,this.mainCoverUploadEl,Object(o.domQuery1)("#owner_photo_thumb",this.mainCoverCropEl),e.upload,i),[Object(o.domQuery1)(".groups_edit_cover_wrap_main_a",this.box.bodyNode),Object(o.domQuery1)(".upload",this.mainCoverEditEl)].forEach(e=>{Object(s.addEvent)(e,"click",e=>{Object(o.geByTag1)("button",this.mainCoverUploadEl).click()})});var r=Object(o.domQuery1)(".delete",this.mainCoverEditEl);r&&Object(s.addEvent)(r,"click",()=>{var e=Object(o.domData)(r,"hash");Page.deleteOwnerCover(-this.groupId,e,this.onMainCoverDelete.bind(this))});var a=Object(o.domQuery1)(".edit",this.mainCoverEditEl);a&&Object(s.addEvent)(a,"click",()=>{this.uploadMain.edit(!1)});var d=Object(o.domQuery1)("#groups_edit_cover_wrap_live_upload_input",this.contentEl);if(d&&Object(s.addEvent)(d,"change",()=>{this.onFileChange(d)}),this.liveWrapEl){this.liveWrapToDrag=Object(o.domQuery1)("#live_covers_to_drag",this.box.bodyNode);var l=new EventEmitter;l.on(y,this.onUploadErrorLiveCover.bind(this)),l.on(f,this.onDidUploadedLiveCover.bind(this)),l.on(E,this.onUploadStartLiveCover.bind(this));var h=this.getLiveCoversCount();this.uploadLive=new j(this.groupId,this.liveWrapEl,e.uploadStoryHash,e.saveStoryHash,l,h),this.liveInputEl=Object(o.domQuery1)("#groups_edit_cover_wrap_live_upload_input",this.box.bodyNode),Object(s.addEvent)(this.liveWrapEl,"dragenter dragover",this.dragDidEnter.bind(this)),Object(s.addEvent)(this.liveWrapEl,"dragleave",this.dragDidLeave.bind(this)),Object(s.addEvent)(this.liveWrapEl,"drop",this.dragDidDrop.bind(this)),this.reorderHash=e.reorderHash,this.deleteHash=e.deleteHash,this.initSorter(),this.initLiveCoverEvents()}var c=Object(o.domQuery1)("#groups_edit_cover_scalable",this.contentEl);c&&Object(s.addEvent)(c,"click",e=>{var t=Object(o.domData)(c,"hash");this.setScalable(c,t)});var u=Object(o.domQuery1)("#owner_photo_done_edit",this.mainCoverCropEl);u&&Object(s.addEvent)(u,"click",e=>{Object(n.lockButton)(u),this.editDone(),Object(n.unlockButton)(u)});var v=Object(o.domQuery1)("#owner_photo_upload_return",this.mainCoverCropEl);v&&Object(s.addEvent)(v,"click",e=>{this.uploadReturn()})}getMainCoverEmitter(){var e=new EventEmitter;return e.on(a,this.onMainCoverEdit.bind(this)),e.on(d,this.onMainCoverSave.bind(this)),e.on(l,this.onMainCoverUploadStart.bind(this)),e.on(c,this.onMainCoverDragEnter.bind(this)),e.on(h,this.onMainCoverDragOut.bind(this)),e.on(u,this.onMainCoverUploadError.bind(this)),e}initLiveCoverEvents(){Object(o.domQuery)("#live_covers_for_drag .groups_edit_cover_wrap_live_upload_placeholder_enabled",this.box.bodyNode).forEach(e=>{Object(s.removeEvent)(e,"click"),Object(s.addEvent)(e,"click",t=>{var i=Object(o.domData)(e,"pos");this.liveCoverUpload(t,i)})}),Object(o.domQuery)("#live_covers_to_drag .groups_edit_cover_wrap_live_upload",this.box.bodyNode).forEach(e=>{var t=Object(o.domQuery1)(".delete",e);Object(s.removeEvent)(t,"click"),Object(s.addEvent)(t,"click",e=>{this.liveCoverDelete(e)});var i=Object(o.domQuery1)(".upload",e);Object(s.removeEvent)(i,"click"),Object(s.addEvent)(i,"click",e=>{this.liveCoverChange(e)})})}onMainCoverEdit(){hide(this.contentEl),hide(this.headerEl),show(this.mainCoverCropEl),Object(o.removeClass)(this.mainCoverEl,"loading"),this.box.setOptions({width:845})}onMainCoverSave(e,t){attr(this.mainCoverImgEl,"src",e),hide(this.mainCoverCropEl),hide(this.mainCoverEl),this.box.setOptions({width:655}),show(this.contentEl),show(this.headerEl),show(this.mainCoverEditEl),this.box.updateBoxCoords()}onMainCoverDelete(){window.curBox().hide(),hide(this.mainCoverEditEl),show(this.mainCoverEl),attr(this.mainCoverImgEl,"src","")}onFileChange(e){this.uploadLive.pushFiles(e.files,this.liveCoverPosition),this.liveCoverPosition=-1}liveCoverUpload(e,t){this.liveInputEl.click()}liveCoverDelete(e){Object(s.cancelEvent)(e);var t=e.target,i=Object(o.domData)(t,"cover-id");this.deleteLiveCover(i,t)}deleteLiveCover(e,t){if(this.deleteLock||(this.deleteLock=[]),this.deleteLock[e])return!1;var i={};return t&&(i={onDone:this.onLiveCoverDelete.bind(this,t),showProgress:()=>this.deleteLock[e]=!0,hideProgress:()=>this.deleteLock[e]=!1}),ajax.post("groupsedit_cover.php",{act:"a_delete_live",id:this.groupId,cover_id:e,hash:this.deleteHash},i),!1}liveCoverChange(e){Object(s.cancelEvent)(e);var t=e.target,i=Object(o.domData)(t,"cover-id");this.reUploadCoverId=i;var r=this.getCoverPosition(i);this.liveCoverPosition=r,this.liveInputEl.click()}onLiveCoverDelete(e){var t=domPN(domPN(domPN(e))),i=Object(o.geByTag1)("img",t);Object(o.removeClass)(t,"edit"),this.getLiveCoversCount()<4?Object(o.addClass)(t,"disabled"):Object(o.removeClass)(t,"disabled"),attr(i,"src","");var r=t.cloneNode(!0);re(t),Object(o.domQuery1)("#live_covers_for_drag",this.box.bodyNode).appendChild(r),this.uploadLive.setCurFilesCount(this.getLiveCoversCount()),this.initSorter(),this.initLiveCoverEvents()}editDone(){this.uploadMain.cropDone()}uploadReturn(){hide(this.mainCoverCropEl),hide(this.mainCoverEl),this.box.setOptions({width:655}),show(this.contentEl),show(this.headerEl),hide(this.mainCoverEditEl),""==attr(this.mainCoverImgEl,"src")?(show(this.mainCoverEl),hide(this.mainCoverEditEl),show(this.mainCoverUploadPlaceholder)):(hide(this.mainCoverEl),show(this.mainCoverEditEl)),this.box.updateBoxCoords()}initSorter(){if(this.getLiveCoversCount()<=1)return!1;var e={canDrag:!0,clsUp:"groups_edit_cover_wrap_live_upload_preview_drag",onReorder:this.onReorder.bind(this)};window.usorter.init("live_covers_to_drag",e)}onReorder(){if(!this.saveReorderLock){var e=Object(o.domQuery1)("#live_covers_to_drag",this.box.bodyNode),t=Object(o.geByClass)("groups_edit_cover_wrap_live_upload",e).map(e=>Object(o.domData)(e,"cover-id"));ajax.post("groupsedit_cover.php",{act:"a_reorder_live",id:this.groupId,hash:this.reorderHash,covers:t},{showProgress:()=>this.saveReorderLock=!0,hideProgress:()=>this.saveReorderLock=!1})}}getLiveLoadedCover(){var e=Object(o.domQuery)(".groups_edit_cover_wrap_live_upload",this.liveWrapEl);for(var t in e)if(e[t]){var i=e[t];if(Object(o.hasClass)(i,"loading"))return i}return!1}getCoverPosition(e){var t=Object(o.domQuery)(".groups_edit_cover_wrap_live_upload",this.liveWrapEl);for(var i in t)if(t[i]){var r=t[i];if(e&&Object(o.domData)(r,"cover-id")==e)return parseInt(i)+1}return!1}getCoverWrapByCoverId(e){var t=Object(o.domQuery)(".groups_edit_cover_wrap_live_upload",this.box.bodyNode);for(var i in t)if(t[i]){var r=t[i];if(Object(o.domData)(r,"cover-id")==e)return r}return!1}getNearestLiveCover(e){isUndefined(e)&&(e=0);var t=Object(o.domQuery)(".groups_edit_cover_wrap_live_upload:not(.edit)",this.box.bodyNode);return!!t[e]&&t[e]}onUploadErrorLiveCover(e,t){if(!t){var i=this.getLiveLoadedCover();Object(o.removeClass)(i,"loading"),Object(o.removeClass)(i,"disabled")}return Object(r.showFastBox)(getLang("global_error"),e)}onDidUploadedLiveCover(e){var t,i=e.story.preview;t=this.reUploadCoverId?this.getCoverWrapByCoverId(this.reUploadCoverId):this.getNearestLiveCover();var r=Object(o.geByTag1)("img",t);(attr(r,"src",i),Object(o.removeClass)(t,"loading"),Object(o.addClass)(t,"edit"),e.story.isVideo)?(Object(o.addClass)(t,"video"),Object(o.removeClass)(t,"photo"),Object(o.geByClass1)("page_cover_action",Object(o.geByClass1)("video_size",t)).innerHTML=e.story.videoDuration):(Object(o.removeClass)(t,"video"),Object(o.addClass)(t,"photo"));if(Object(o.addClass)(t,"edit"),Object(o.domData)(t,"cover-id",e.storyRaw),Object(o.domData)(Object(o.geByClass1)("upload",t),"cover-id",e.storyRaw),Object(o.domData)(Object(o.geByClass1)("delete",t),"cover-id",e.storyRaw),!this.reUploadCoverId){var s=t.cloneNode(!0);re(t),this.liveWrapToDrag.appendChild(s),t=this.getNearestLiveCover(),Object(o.removeClass)(t,"disabled"),this.uploading=!1,this.uploadLive.setCurFilesCount(this.getLiveCoversCount()),this.initSorter()}this.reUploadCoverId=0,this.initLiveCoverEvents()}onUploadStartLiveCover(e){var t;this.reUploadCoverId?(t=this.getCoverWrapByCoverId(this.reUploadCoverId),Object(o.removeClass)(t,"edit")):t=this.getNearestLiveCover(e),Object(o.removeClass)(t,"disabled"),Object(o.addClass)(t,"loading")}dragDidEnter(e){return e.dataTransfer&&(e.dataTransfer.items&&e.dataTransfer.items.length>0&&"file"===e.dataTransfer.items[0].kind||e.dataTransfer.types&&e.dataTransfer.types.indexOf("Files")>-1)&&(clearTimeout(this.DragLeaveTimer),Object(o.addClass)(this.liveWrapEl,"drop")),Object(s.cancelEvent)(e)}dragDidLeave(e){return clearTimeout(this.DragLeaveTimer),this.DragLeaveTimer=setTimeout(()=>{Object(o.removeClass)(this.liveWrapEl,"drop")},100),Object(s.cancelEvent)(e)}dragDidDrop(e){return this.dragDidLeave(e),e&&e.dataTransfer&&e.dataTransfer.files&&e.dataTransfer.files.length>0&&this.uploadLive.pushFiles(e.dataTransfer.files),Object(s.cancelEvent)(e)}getLiveCoversCount(){var e=Object(o.geByClass)("edit",Object(o.domQuery1)("#live_covers_to_drag",this.box.bodyNode)),t=0;return e&&(t=e.length),t}setScalable(e,t){this.saveScalableLock||(this.saveScalableLock=!0,Object(n.checkbox)(e),ajax.post("groupsedit_cover.php",{act:"a_save_scalable",id:this.groupId,hash:t,scalable:Object(n.isChecked)(e)?1:0},{showProgress:()=>this.saveScalableLock=!0,hideProgress:()=>this.saveScalableLock=!1}))}}},"12ku":function(e,t,i){"use strict";i.r(t),i.d(t,"ON_BOARDING_BG_ID",(function(){return d})),i.d(t,"ON_BOARDING_BG_HEADER_ID",(function(){return l})),i.d(t,"ON_BOARDING_BG_RECT_ID",(function(){return h})),i.d(t,"ON_BOARDING_BG_CLIP_ID",(function(){return c})),i.d(t,"default",(function(){return u}));i("HEwt"),i("a1Th"),i("Btvt"),i("rGqo"),i("rE2o"),i("ioFf");var o=i("zxIV"),r=i("lXE5"),s=i("k3PD");function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var i=[],o=!0,r=!1,s=void 0;try{for(var n,a=e[Symbol.iterator]();!(o=(n=a.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){r=!0,s=e}finally{try{o||null==a.return||a.return()}finally{if(r)throw s}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(i);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return a(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,o=new Array(t);i<t;i++)o[i]=e[i];return o}var d="onboarding_bg",l="onboarding_bg_header",h="onboarding_bg_rect",c="onboarding_bg_clip";class u{constructor(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];this.el=e,this.text=t,this.hideDarkness=!0,this.oldColor=!1;var o={autoShow:!1,noAutoHideOnWindowClick:!0,content:""+t,cls:"feature_intro_tt feature_intro_blue_tt tutorial_tip_tt "+(i.class?i.class:""),appendToParent:!0,onHide:this.ttOnHide.bind(this)};i.side&&(o.forceSide=i.side),i.offset&&(o.offset=i.offset),i.width&&(o.width=i.width),i.shift&&(o.centerShift=i.shift),i.border?this.border=i.border:this.border=[10,10,10,10],i.withCloseButton&&(o.withCloseButton=i.withCloseButton,o.onCloseButtonClick=i.onCloseButtonClick),i.align&&(o.align=i.align),this.ttParams=o,this.opts=i,this.initOnboardingBG()}initOnboardingBG(){if(!window.onboardingBG){var e=se('\n<div id="onboarding_layout">\n  <svg id="onboarding_bg_header" width="100%" height="42px">\n    <rect id="onboarding_bg_rect" x="0" y="0" width="100%" height="100%" fill-opacity="0.8" fill="#000"></rect>\n  </svg>\n  <svg id="onboarding_bg" width="100%" height="100%">\n  <defs>\n    <mask id="mask" x="0" y="0" width="100%" height="100%">\n      <rect x="0" y="0" width="100%" height="100%" fill="#fff"></rect>\n      <rect id="onboarding_bg_clip" x="0" y="0" width="0" height="0" fill="#000" rx="8" ry="8"></rect>\n    </mask>\n  </defs>\n  <rect id="onboarding_bg_rect" x="0" y="42" width="100%" height="100%" mask="url(#mask)" fill-opacity="0.8"></rect>\n  </svg>\n</div>\n      ');Object(o.domInsertBefore)(e,window.layerBG),window.onboardingBGHeader=ge(l),window.onboardingBG=ge(d),window.onboardingBGRect=ge(h),window.onboardingBGClip=ge(c),window.cur.destroy.push(()=>{hide(window.onboardingBG),hide(window.onboardingBGHeader),removeClass(ge("page_header_cont"),"onboarding"),this.hideDarkness=!0,this.hideTT(),delete window.onboardingBG,delete window.onboardingBGHeader,delete window.onboardingBGRect,delete window.onboardingBGClip,this.opts.onBGClick&&removeEvent(window.onboardingBG,"click",this.opts.onBGClick)}),this.opts.onBGClick&&addEvent(window.onboardingBG,"click",this.opts.onBGClick)}}showTT(){var e=n(Object(o.getXY)(this.el),2)[1];this.tt=new window.ElementTooltip(this.el,this.ttParams),this.opts.highlight&&(this.addDarkness(),this.addHighlight()),this.tt.show();var t=this.tt.getContent();Object(s.isElementInViewport)(this.el)&&Object(s.isElementInViewport)(t)||Object(r.scrollToY)(e-42)}hideTT(){this.tt&&(this.tt.destroy(),this.removeDarkens(),this.hideDarkness&&(removeEvent(window,"scroll"),removeEvent(window,"resize")))}addHighlight(){window.onboardingBGClip&&(this.highlightElement(),addEvent(window,"scroll",this.onScrollTT.bind(this)),addEvent(window,"resize",this.onResizeTT.bind(this)))}highlightElement(){var e=this.el.offsetWidth,t=this.el.offsetHeight,i=Object(o.getXY)(this.el);attr(window.onboardingBGClip,"width",e+this.border[1]+this.border[3]),attr(window.onboardingBGClip,"height",t+this.border[0]+this.border[2]),attr(window.onboardingBGClip,"x",i[0]-this.border[1]),attr(window.onboardingBGClip,"y",i[1]-this.border[0])}onResizeTT(){this.setDartToFullWidth(),this.highlightElement()}onScrollTT(){var e=this.getPageHeight();window.onboardingBG.height!=e&&this.setDartToFullHeight()}setDartToFullHeight(){attr(window.onboardingBG,"height",this.getPageHeight())}setDartToFullWidth(){attr(window.onboardingBG,"width",this.getPageWidth()),attr(window.onboardingBGHeader,"width",this.getPageWidth())}addDarkness(){Object(o.isVisible)(window.onboardingBG)||(this.setDartToFullHeight(),this.setDartToFullWidth(),show(window.onboardingBG),Object(o.isVisible)(window.onboardingBGHeader)||(show(window.onboardingBGHeader),addClass(ge("page_header_cont"),"onboarding")))}removeDarkens(){this.hideDarkness&&(hide(window.onboardingBG),hide(window.onboardingBGHeader),removeClass(ge("page_header_cont"),"onboarding"))}ttOnHide(){this.hideTT()}show(){setTimeout(this.showTT.bind(this),1e3)}getPageWidth(){var e=document.documentElement,t=document.body;return Math.max(t.scrollWidth,e.scrollWidth,t.offsetWidth,e.offsetWidth,t.clientWidth,e.clientWidth)}getPageHeight(){var e=document.documentElement,t=document.body;return Math.max(t.scrollHeight,e.scrollHeight,t.offsetHeight,e.offsetHeight,t.clientHeight,e.clientHeight)}}},165:function(e,t,i){e.exports=i("xubF")},Klmf:function(e,t,i){"use strict";i.r(t),i.d(t,"Events",(function(){return o})),i.d(t,"UploaderEvents",(function(){return r})),i.d(t,"Constants",(function(){return s})),i.d(t,"UploadErrorTypes",(function(){return n})),i.d(t,"UploadStoryState",(function(){return a}));var o={storyDidUploaded:"storyDidUploaded",storyDidUpload:"storyDidUpload",storyDidFailed:"storyDidFailed",storyDidRemove:"storyDidRemove",coverDidUploaded:"coverDidUploaded",coverDidUpload:"coverDidUpload",coverDidFailed:"coverDidFailed",pushUploadError:"pushUploadError"},r={didUploaded:"didUploaded",didDestroyed:"didDestroyed",didProgress:"didProgress",didUpload:"didUpload",didFailed:"didFailed",didRemove:"didRemove",uploadError:"uploadError"},s={maxTotalCount:50,uploadingMaxCount:2},n={unknown:1,securityError:2,internalError:3,noVideoStream:4,invalidVideoCodec:5,invalidAudioCodec:6,toLongStory:7,bigFile:8},a={waiting:"waiting",uploading:"uploading",finished:"finished",failed:"failed"}},k3PD:function(e,t,i){"use strict";function o(e){var t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}i.r(t),i.d(t,"isElementInViewport",(function(){return o}))},o9iI:function(e,t,i){"use strict";i.r(t),i.d(t,"ttMarginTop",(function(){return s})),i.d(t,"pageTypes",(function(){return n})),i.d(t,"getPhotoUrl",(function(){return a})),i.d(t,"getUserData",(function(){return d})),i.d(t,"canUserManageStories",(function(){return l})),i.d(t,"showDeletedStoryTt",(function(){return h})),i.d(t,"getStoryLifetime",(function(){return c})),i.d(t,"showTip",(function(){return u}));i("HEwt"),i("a1Th"),i("Btvt"),i("rGqo"),i("rE2o"),i("ioFf");function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var i=[],o=!0,r=!1,s=void 0;try{for(var n,a=e[Symbol.iterator]();!(o=(n=a.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){r=!0,s=e}finally{try{o||null==a.return||a.return()}finally{if(r)throw s}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(i);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return r(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,o=new Array(t);i<t;i++)o[i]=e[i];return o}var s=-5,n={stories:"stories",narratives:"narratives"};function a(e,t){if(e&&e.sizes)return(e.sizes.filter(e=>e.type===t)[0]||{}).url}function d(e){return cur.data.users[e]||{}}function l(){return cur.data.canManage}function h(e,t){var i=t.deletionDateString,o=t.deleter,r=c(t.date,t.deletionDate,cur.data.storyLifetime),s=d(o),n=`<div class='story_stats_tt'>\n  <div class='story_stats_tt_text'>${langSex(s.sex,getLang("stories_story_deleted_by","raw"))} ${i}</div>\n  <a href="${s.href}">${s.name}</a>\n  <div class='story_stats_tt_text'>${getLang("stories_story_was_available")} ${r}</div>\n</div>`,a=new ElementTooltip(e,{content:n,appendTo:bodyNode,offset:[0,-5],align:ElementTooltip.ALIGN_LEFT,onHide:()=>a.destroy()})}function c(e,t,i){var o=Math.max(0,Math.min(i,t-e)),r=Math.floor(o/3600),s=Math.floor(o-3600*r),n=Math.floor(s/60),a=[];return r>0&&a.push(langNumeric(r,getLang("global_hours","raw"))),n>0&&a.push(langNumeric(n,getLang("groups_stories_minutes","raw"))),n||r||a.push(langNumeric(s,getLang("groups_stories_seconds","raw"))),a.join(", ")}function u(e,t){var i=e.target,r=o(getSize(i),1)[0];showTitle(i,t,[-(r-16)/2,8,0],{center:1,appendEl:bodyNode})}},xubF:function(e,t,i){"use strict";i.r(t);i("HEwt"),i("a1Th"),i("Btvt"),i("rGqo"),i("rE2o"),i("ioFf");var o=i("4+be"),r=i("zxIV"),s=i("Egk5"),n=i("t7n3"),a=(i("pIFo"),i("SRfc"),/^\+?[\d]{4,18}$/);var d=i("FWc3"),l=i("nAFc");class h{constructor(e,t){this.base=e,this.el=t,this.elInput=geByClass1("line_div_value",t),this.elIcon=geByClass1("line_div_icon",t),this.elLine=geByClass1("line_value",t),this.hideHash=Object(r.domData)(t,"hide-hash"),this.saveHash=Object(r.domData)(t,"save-hash"),this.validateHash=Object(r.domData)(t,"validate-hash"),this.groupId=Object(r.domData)(t,"group-id"),this.type=Object(r.domData)(t,"type"),this.oldValue=Object(r.domData)(t,"raw-value"),this.validateValue="",this.validateText="",this.backValue="",this.oldValue||(Object(r.hasClass)(this.elInput,"empty")?this.oldValue="":this.oldValue=Object(r.val)(this.elInput)),Object(s.addEvent)(this.elLine,"click",this.enableInput.bind(this)),Object(s.addEvent)(this.elIcon,"mouseover",this.onOverIcon.bind(this)),Object(s.addEvent)(this.elIcon,"click",this.onClickIcon.bind(this)),this.setValid(!0)}enableInput(e){if(this.hideValidateHint(),"a"===ge(e.target).tagName.toLowerCase())return!0;if(Object(r.hasClass)(this.elLine,"line_edit"))return!1;var t=geByClass1("wall_post_more",this.elInput);return t&&t.click(),Object(r.hasClass)(this.elInput,"empty")?this.backValue="":this.backValue=Object(r.val)(this.elInput),this.base.resetInlineElements(this.el),this.oldValue?Object(r.val)(this.elInput,this.oldValue):Object(r.val)(this.elInput,this.backValue),this.validateValue="",this.extractA(this.elLine),Object(r.addClass)(this.elLine,"line_edit"),Object(r.removeClass)(this.elInput,"empty"),attr(this.elInput,"contenteditable",!0),Object(r.elfocus)(this.elInput,Object(r.val)(this.elInput).length),Object(s.addEvent)(this.elInput,"keyup",this.onKeyUp.bind(this)),Object(s.addEvent)(this.elInput,"keydown",this.onKeyDown.bind(this)),Object(s.addEvent)(this.elInput,"paste",this.onPaste.bind(this)),!1}disableInput(e,t,i){if(Object(r.hasClass)(this.elLine,"line_edit")){if(this.hideValidateHint(),Object(r.hasClass)(this.elIcon,"valid")||i){var o=this.oldValue;if(Object(n.isUndefined)(e)||(o=e,this.formattedValue=e),t?(Object(r.domData)(this.el,"raw-value",t),this.oldValue=t):(Object(r.domData)(this.el,"raw-value",o),this.oldValue=o),o){if("group_phone"==this.type){var a=this.formattedValue?this.formattedValue:o;o=`<a href='tel:${a}'>${a}</a>`}else if("group_website"==this.type){var d="/away.php?to="+o;o=`<a href='${d=d.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/\'/g,"&#39;")}' target='_blank' ref='noopener'>${o}</a>`}else"group_description"==this.type&&"<br>"==o&&(o="");Object(r.val)(this.elInput,o),Object(r.addClass)(this.elIcon,"edit")}else Object(r.val)(this.elInput,o),Object(r.removeClass)(this.elIcon,"edit")}else Object(r.val)(this.elInput,this.backValue),Object(r.removeClass)(this.elIcon,"edit");Object(r.removeClass)(this.elLine,"line_edit"),attr(this.elInput,"contenteditable",!1);var l=Object(r.val)(this.elInput);browser.msie_edge&&(l=this.cleanBR(l)),0==l.length&&(Object(r.addClass)(this.elInput,"empty"),Object(r.val)(this.elInput,attr(this.elInput,"placeholder"))),Object(s.removeEvent)(this.elInput,"keyup keydown paste"),window.getSelection().removeAllRanges()}}showValidateHint(){this.validateText&&Object(d.showHint)(this.elIcon,{text:this.validateText,maxWidth:242})}hideValidateHint(){window.tooltips&&window.tooltips.hideAll()}onOverIcon(e){if(Object(r.hasClass)(this.elLine,"line_edit"))Object(r.hasClass)(this.elIcon,"valid")||this.showValidateHint();else{var t="";t=Object(r.hasClass)(this.elIcon,"edit")?getLang("groups_info_placeholder_edit_tt"):getLang("groups_info_placeholder_hide_tt"),Object(d.showTitle)(this.elIcon,t,[7,7])}}onClickIcon(e){if(Object(r.hasClass)(this.elLine,"line_edit")){if(!Object(r.hasClass)(this.elIcon,"valid"))return!1;this.save(e)}else Object(r.hasClass)(this.elIcon,"edit")||this.hide(e);this.hideValidateHint()}onKeyUp(e){this.hideValidateHint(),"<br>"===this.elInput.innerHTML&&(this.elInput.innerHTML="",this.elInput.display="none",this.elInput.offsetHeight,this.elInput.style.display=""),this.validate(!0)}onPaste(e){return Object(s.cancelEvent)(e),Emoji.onEditablePaste(this.elInput,{},0,e),!0}cleanBR(e){return"<br>"===e?"":e}onKeyDown(e){if(this.hideValidateHint(),e.keyCode===KEY.ESC)this.disableInput(),Object(s.cancelEvent)(e);else{(Object(r.hasClass)(e.target,"text")?10===e.keyCode||e.keyCode===KEY.ENTER:10===e.keyCode||e.keyCode===KEY.ENTER&&(e.ctrlKey||e.metaKey&&browser.mac))&&(this.save(),Object(s.cancelEvent)(e))}}validatePhone(e,t,i,o){this.validateTimeout&&(this.validateTimeout=!1);var r=this;this.validateTimeout=setTimeout((function(){var s={act:"a_validate_info_from_inline",id:t,hash:o,type:i,value:e};ajax.post("groupsedit_onboarding.php",s,{onDone:function(e){e.valid?(e.raw_value.startsWith("8800")||(e.raw_value="+"+e.raw_value),r.setValid(!0,"",e.value,e.raw_value)):r.setValid(!1,getLang("groups_inline_validation_error_not_valid_phone"))}})}),1e3)}removeSpans(e){for(var t=e.getElementsByTagName("span"),i=0;i<t.length;i++)t[i].outerHTML=t[i].innerHTML}extractA(e){for(var t=e.getElementsByTagName("a");t.length;){for(var i=t[0].parentNode;t[0].firstChild;)i.insertBefore(t[0].firstChild,t[0]);i.removeChild(t[0])}}validate(e){this.hideValidateHint(),this.removeSpans(this.elInput);var t=Object(r.val)(this.elInput);browser.msie_edge&&(t=this.cleanBR(t));var i,o=!0;t!=this.oldValue?"group_description"==this.type?(o=t.length<4e3,this.setValid(o,"",t)):"group_phone"==this.type?t.length>0?(i=t,i=trim(i),(o=Boolean(i.match(a)))?!Object(n.isUndefined)(e)&&e?(this.setValid(!1),this.validatePhone(t,this.groupId,this.type,this.validateHash)):this.setValid(!0):this.setValid(!1,getLang("groups_inline_validation_error_not_valid_phone"))):this.setValid(!0):"group_website"==this.type&&(o=t.length>=0&&t.length<100,this.setValid(o)):this.setValid(!1)}setValid(e,t,i,o){e&&!Object(r.hasClass)(this.elIcon,"valid")?Object(r.addClass)(this.elIcon,"valid"):!e&&Object(r.hasClass)(this.elIcon,"valid")&&Object(r.removeClass)(this.elIcon,"valid"),Object(n.isUndefined)(i)||(this.validateValue=i,this.validateRawValue=o),this.validateText="",e||(this.validateText=t||getLang("groups_info_inline_validation_error_default"))}hide(e){Object(s.cancelEvent)(e);var t={act:"a_hide_inline",id:this.groupId,hash:this.hideHash,type:this.type};return ajax.post("groupsedit_onboarding.php",t),Object(r.hasClass)(this.elInput,"empty")?this.removeEl():this.removeIcon(),!1}removeIcon(){this.elIcon.remove(),Object(r.removeClass)(this.el,"onboarding_placeholder"),this.disableInput()}removeEl(){var e=domPN(domPN(domPN(domPN(this.el))));(this.el.remove(),geByClass("ui_tab",e)<2)&&(geByClass1("group_info_row")||e.remove())}save(e){Object(s.cancelEvent)(e);var t=Object(r.val)(this.elInput);if(t==this.oldValue)return!1;var i=!Object(r.hasClass)(this.elIcon,"valid");browser.msie_edge&&(t=this.cleanBR(t));var o=this.clearVal(t);o=(o=Object(l.decodeHTMLEntities)(o)).replace(/&nbsp;/g," ");var n="group_description"===this.type||i,a=n&&window.GroupsAdminTips&&window.GroupsAdminTips.isShownSection()?1:0,d={act:"a_save_info_from_inline",id:this.groupId,hash:this.saveHash,type:this.type,value:o,update_admin_tips:a},h={};return n&&(h={onDone:this.onSaveDone.bind(this)}),ajax.post("groupsedit_onboarding.php",d,h),n||(this.validateValue?this.disableInput(this.validateValue,this.validateRawValue):this.disableInput(t)),!0}onSaveDone(e){if(e.valid){"group_phone"===this.type&&(e.raw_value.startsWith("8800")||(e.raw_value="+"+e.raw_value)),this.disableInput(e.value,e.raw_value,!0);var t=e.admin_tips_section,i=void 0===t?null:t;null!==i&&window.GroupsAdminTips&&window.GroupsAdminTips.refreshSection(i)}else"group_phone"===this.type?(this.setValid(!1,getLang("groups_inline_validation_error_not_valid_phone")),this.showValidateHint()):this.setValid(!1)}clearVal(e){return e.replace(/<br\s*[\/]?>/gi,"\n").replace(/<div>/gi,"\n").replace(/<div style="" class="" id="">/gi,"\n").replace(/<\/div>/gi,"")}}var c=i("12ku"),u=(i("VRzm"),i("EasH"));class p{constructor(e,t,i,r){this.hash=i,this.groupId=t,this.steps=[],this.stepsElements={},this.curStepId=0,this.confirmBox=null,this.lastTrack=Promise.resolve();var s=""!==r&&"box"!==r;Object.keys(e).forEach(t=>{var i=e[t];i&&(s?(i.step===r&&(s=!1),this.steps.push(null)):ge(i.el)&&this.steps.push(i))});var n=this.steps.length;Object.keys(this.steps).forEach(e=>{var t=this.steps[e];if(t){var i={highlight:!0};t.side&&(i.side=t.side),t.offset&&(i.offset=t.offset),t.width&&(i.width=t.width),t.shift&&(i.shift=t.shift),t.border&&(i.border=t.border);var r=Object(o.getLang)(t.text),s=Number(e)+1,a=langStr(Object(o.getLang)("groups_onboarding_tutor_progress"),"step",s,"total_steps",n),d=n>s,l=`<span class="feature_intro_tt_hide" onclick="window.GroupsOnboarding.tutorial.hide()">&nbsp;</span><div class="step_text">${r}</div>\n        <div><span class="flat_button further_button" onclick="window.GroupsOnboarding.tutorial.nextStep()">${Object(o.getLang)(d?"groups_onboarding_tutor_further":"groups_onboarding_tutor_done")}</span>\n        <span class="step_progress">${a}</span>\n        </div>\n        `,h=new c.default(ge(t.el),l,i);this.stepsElements[Number(e)]=h}else++this.curStepId}),this.onDocumentMouseDown=this.onDocumentMouseDown.bind(this)}showWelcomeBox(e){var t={act:"welcome_box",group_id:this.groupId},i={containerClass:"groups_welcome_box",params:{hideButtons:!0,width:638,onBeforeHide:()=>{Object(s.addEvent)(window.boxLayerWrap,"click",window.__bq.hideLastCheck)}},onDone:(e,t)=>{removeEvent(window.boxLayerWrap,"click",window.__bq.hideLastCheck)}};this.welcomeBox=Object(u.showBox)("al_groups.php",t,i)}hideWelcomeBox(e){this.welcomeBox&&(this.welcomeBox.hide(),this.track("box"),e||this.track("hide"))}start(){this.hideWelcomeBox(!0),this.showStep(),Object(s.addEvent)(document,"mousedown",this.onDocumentMouseDown)}onDocumentMouseDown(e){var t=ge(e.target);if(t&&t.id===c.ON_BOARDING_BG_RECT_ID){var i=geByClass1("further_button");Object(r.addClass)(i,"outline"),setTimeout((function(){Object(r.removeClass)(i,"outline")}),500)}}showStep(){this.stepsElements[this.curStepId]&&this.step(this.curStepId)}nextStep(){this.track(this.steps[this.curStepId].step);var e=this.curStepId+1;this.stepsElements[e]?(this.curStepId++,this.curStepElement.hideDarkness=!1,this.curStepElement.tt.hide(),this.step(e)):(this.track("success"),this.hideOnEnd())}step(e){this.curStepElement=this.stepsElements[e],this.curStepElement.showTT()}track(e){this.lastTrack=this.lastTrack.then(()=>new Promise(t=>{var i={act:"a_onboarding_tutorial_track",step:e,id:this.groupId,hash:this.hash};ajax.post("groupsedit_onboarding.php",i,{onDone:t})}))}hide(e){if(!e){var t={title:Object(o.getLang)("groups_onboarding_tutor_hide_title"),noCloseButton:!0,onHide:this.onConfirmBoxNo.bind(this)};return this.curStepElement.removeDarkens(),this.confirmBox=Object(u.showFastBox)(t,Object(o.getLang)("groups_onboarding_tutor_hide"),Object(o.getLang)("global_yes"),this.onConfirmBoxYes.bind(this),Object(o.getLang)("global_cancel"),this.onConfirmBoxNo.bind(this)),void Object(r.addClass)(window.boxLayerBG,"onboarding_bg")}this.hideOnEnd()}onConfirmBoxNo(){Object(r.removeClass)(window.boxLayerBG,"onboarding_bg"),this.confirmBox.hide(),this.curStepElement.addDarkness()}onConfirmBoxYes(){Object(r.removeClass)(window.boxLayerBG,"onboarding_bg"),this.confirmBox.hide(),this.hide(!0),this.track("hide")}hideOnEnd(){this.curStepElement.tt.hide(),removeEvent(document,"mousedown",this.onDocumentMouseDown)}}var v=i("3F7q"),_=i("v+DW");function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var i=[],o=!0,r=!1,s=void 0;try{for(var n,a=e[Symbol.iterator]();!(o=(n=a.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){r=!0,s=e}finally{try{o||null==a.return||a.return()}finally{if(r)throw s}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(i);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,o=new Array(t);i<t;i++)o[i]=e[i];return o}i("91GP"),i("hhXQ");var m=i("k487"),w=i("k3PD"),f=i("lXE5"),O=i("BJj/"),E=i("kHqu");function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var i=[],o=!0,r=!1,s=void 0;try{for(var n,a=e[Symbol.iterator]();!(o=(n=a.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){r=!0,s=e}finally{try{o||null==a.return||a.return()}finally{if(r)throw s}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(i);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return j(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,o=new Array(t);i<t;i++)o[i]=e[i];return o}function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e}).apply(this,arguments)}class I{static get ITEM_LOAD_AVATAR(){return"load_avatar"}static get ITEM_DESCRIPTION(){return"description"}static get ITEM_MESSAGES(){return"messages"}static get ITEM_LEFT_LINK(){return"left_link"}static get ITEM_SHORT_URL(){return"short_url"}static get ITEM_MAKE_POST(){return"make_post"}static get ITEM_COMMENTS_FILTER(){return"comments_filter"}static get ITEM_CREATE_DISCUSSION(){return"create_discussion"}static get ITEM_ADDRESS(){return"address"}static get ITEM_ACTION_BUTTON(){return"action_button"}static get ITEM_MARKET_ITEM(){return"market_item"}static get ITEM_EDU_SCHOOL(){return"edu_school"}static get ITEM_EDU_INVITE_USERS(){return"edu_invite_users"}static init(e,t){if(function(){var e=nav.objLoc.hasOwnProperty("admin_tip");e&&delete nav.objLoc.admin_tip;var t=nav.objLoc.hasOwnProperty("act")&&"group_section_admin_tips"===nav.objLoc.act&&nav.objLoc.hasOwnProperty("from");t&&delete nav.objLoc.from;(e||t)&&nav.setLoc(nav.objLoc)}(),"show"!==t){B("isModer",e);var i=window.cur,o=i.group_id,n=i.groups_admin_tips_stat;B("groupId",o),B("stat",n);var a={},d={};B("statQueue",a),B("statSent",d),B("currentTip",null),B("sendStatQuery",Object(O.debounce)(()=>D(a,d,o,n),5e3)),B("itemsViewingTimeouts",{}),B("observers",[]);var l=Object(r.ge)("ui_admin_tips_load_more"),h=e=>{Object(s.checkEvent)(e)||(x(),D(a,d,o,n))};l&&Object(s.addEvent)(l,"click",h),window.cur.destroy.push((function(){S(),L(),l&&removeEvent(l,"click",h)})),k()}}static showItem(e,t){var i=function(e){var t=null;switch(e){case I.ITEM_LOAD_AVATAR:t={element:Object(r.ge)("page_avatar_wrap"),appendTo:Object(r.ge)("narrow_column"),offset:[16,16],width:190};break;case I.ITEM_DESCRIPTION:t={element:Object(r.ge)("group_edit_desc"),appendTo:Object(r.ge)("wide_column"),forceSide:"bottom",offset:[0,-8]};break;case I.ITEM_MESSAGES:var i=Object(r.domQuery1)("#group_edit_row_messages .group_edit_labeled");t={element:i,appendTo:Object(r.ge)("wide_column"),forceSide:"bottom",offset:[0,1]};break;case I.ITEM_LEFT_LINK:var o=Object(r.ge)("page_menu_group_more");if(!o)return null;Page.showMoreActions(o),t={element:Object(r.ge)("page_menu_group_left_menu"),appendTo:Object(r.ge)("narrow_column"),offset:[32,16],width:240};break;case I.ITEM_SHORT_URL:t={element:Object(r.ge)("group_edit_addr_table"),appendTo:Object(r.ge)("wide_column"),forceSide:"bottom",offset:[0,-8]};break;case I.ITEM_MAKE_POST:t={element:Object(r.ge)("submit_post_box"),appendTo:Object(r.ge)("wide_column"),forceSide:"bottom",offset:[0,-8]};break;case I.ITEM_COMMENTS_FILTER:t={element:Object(r.ge)("group_edit_obscene_wrap"),forceSide:"bottom",offset:[0,-8]};break;case I.ITEM_CREATE_DISCUSSION:t={disableTooltip:!0};break;case I.ITEM_ADDRESS:window.hasOwnProperty("GeAddresses")&&window.GeAddresses.toggleAddressesBlock(1),t={element:Object(r.ge)("groups_new_addresses_new"),forceSide:"bottom",offset:[0,-8],appendTo:Object(r.ge)("wide_column")};break;case I.ITEM_ACTION_BUTTON:t={element:Object(r.ge)("groups_edit_g_cta_button"),forceSide:"bottom",offset:[0,-8],appendTo:Object(r.ge)("wide_column")};break;case I.ITEM_MARKET_ITEM:t={element:Object(r.ge)("groups_edit_g_market"),forceSide:"bottom",offset:[0,-8],appendTo:Object(r.ge)("wide_column")};break;case I.ITEM_EDU_SCHOOL:t={element:Object(r.ge)("sel_groups_edit_school_wrap"),forceSide:"bottom",offset:[0,-8],appendTo:Object(r.ge)("wide_column")};break;case I.ITEM_EDU_INVITE_USERS:if(!Object(r.ge)("page_menu_group_invite"))return null;if(!("Groups"in window))return null;t={customAction:function(){return window.Groups.showInviteBox(null,U("groupId")),!0},disableTooltip:!0}}return t}(e);if(!i)return!1;if(!i.disableTooltip&&!function(e){var t=e.type,i=e.text,o=e.element,n=e.appendTo,a=void 0===n?null:n,d=e.forceSide,l=void 0===d?"left":d,h=e.offset,c=void 0===h?[0,0]:h,u=e.width,p=void 0===u?null:u;if(!o)return!1;if(!a){var v=Object(r.ge)("page_wrap");a=v||o}var _="bottom"===l?m.default.ALIGN_LEFT:m.default.ALIGN_CENTER,g=new m.default(o,{autoShow:!1,appendTo:a,offset:c,content:`<div class="group_edit_admin_tip_show_container">${i}</div>`,type:m.default.TYPE_VERTICAL,onHide:()=>{S()},cls:"feature_intro_tt feature_intro_blue_tt group_edit_admin_tip_show group_edit_admin_tip_show_"+t,forceSide:l,align:_,width:p}),b=0;if(!Object(w.isElementInViewport)(o)){var O=y(Object(r.getXY)(o),2)[1],E=Object(r.getH)(o);b=400,Object(f.scrollToY)(O-E,b)}g&&setTimeout(()=>{g.show(),Object(s.addEvent)(document,"mousedown click",S)},b);return B("currentTip",g),!0}(C({type:e,text:t},i)))return!1;var o=i.customAction?i.customAction:null;return!(!o||!o())||!i.disableTooltip}static hideItem(e,t,i,o){if(Object(s.stopEvent)(o),!U("isModer")){var a={id:cur.group_id,type:e,hash:t,act:"group_admin_tips_hide_item",in_admin:i};ajax.post("groupsedit.php",a,{onDone(t){var o=t.result,s=t.html;if(o){if(Object(n.isString)(s))if(i){var a=Object(r.ge)("group_edit_admin_tips_counter");a&&s.length&&Object(r.domReplaceEl)(a,Object(n.unclean)(s))}else I.refreshSection(s),L(),k();else i||L();if(i){var d=P(e),l=Object(r.domPN)(Object(r.domPN)(Object(r.domPN)(d)));if(d)Object(r.re)(d),x(U("itemsViewingTimeouts"),e),Object(r.geByClass)("group_edit_admin_tips_item",l).length||Object(r.re)(l),h=U("groupId"),Object(E.globalHistoryDestroy)(nav.objLoc[0]),h&&(Object(E.globalHistoryDestroy)("club"+h),Object(E.globalHistoryDestroy)("event"+h),Object(E.globalHistoryDestroy)("public"+h))}var h}}})}}static isShownItem(e){return!!P(e)}static isShownSection(){return!!Object(r.ge)("admin_tips")}static refreshSection(e){if(Object(n.isString)(e)){var t=Object(r.ge)("page_block_group_admin_tips");t&&(e.length?Object(r.domReplaceEl)(t,Object(n.unclean)(e)):Object(r.re)(t))}}static hideSection(e,t,i){if(Object(s.stopEvent)(i),!U("isModer")){var o={id:cur.group_id,hash:e,value:t,act:"group_admin_tips_hide_section"},n=Object(r.ge)("page_block_group_admin_tips"),a=Object(r.ge)("page_block_group_admin_tips_cancel");t?(addClass(n,"unshown"),removeClass(a,"unshown")):(addClass(a,"unshown"),removeClass(n,"unshown")),ajax.post("groupsedit.php",o,{onFail(){t?(addClass(a,"unshown"),removeClass(n,"unshown")):(addClass(n,"unshown"),removeClass(a,"unshown"))}})}}static onItemClick(e,t,i,o,r,n,a){T(1,"item",{in_admin:n,type:t}),T(2,"item",{in_admin:n,type:t}),o&&function(e,t){var i=window.cur.group_id;ajax.post("groupsedit.php",{id:i,type:e,hash:t,act:"group_admin_tips_reset_new",onDone(){var t=P(e);t&&removeClass(t,"group_edit_admin_tips_item_new")}})}(t,r);var d=P(t);return(d?Number(attr(d,"data-is-completed-on-click")):0)&&function(e,t){t?(removeClass(e,"group_edit_admin_tips_item_not_completed"),addClass(e,"group_edit_admin_tips_item_completed")):(removeClass(e,"group_edit_admin_tips_item_completed"),addClass(e,"group_edit_admin_tips_item_not_completed"))}(d,!0),I.showItem(t,i)?(Object(s.stopEvent)(a),!0):(Object(s.checkEvent)(a)?window.open(e,"_blank"):(x(),D(),nav.go(e)),Object(s.stopEvent)(a),!0)}static reset(e,t){Object(s.stopEvent)(t);var i={id:cur.group_id,hash:e,act:"group_admin_tips_reset"};ajax.post("groupsedit.php",i,{onDone(){nav.reload()}})}}function T(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=t+"_"+e;i.hasOwnProperty("type")&&(r+="_"+i.type);var s=U("statSent");if(!s||!s.hasOwnProperty(r)){var n=U("statQueue");n[r]={event_type:e,target:t,data:JSON.stringify(i)},o?D():U("sendStatQuery")()}}function D(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U("statQueue"),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:U("statSent"),i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:U("groupId"),o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:U("stat");if(!e||!Object.keys(e).length)return!0;var r={id:i,hash:o,act:"group_admin_tips_stat",items:JSON.stringify(Object.values(e))};ajax.post("groupsedit.php",r),Object.keys(e).forEach(i=>{t[i]=!0,delete e[i]})}function S(){var e=U("currentTip");e&&(e.hide(),e.destroy(),removeEvent(document,"mousedown click",S),B("currentTip",null))}function k(){if(!U("isModer")&&"IntersectionObserver"in window){var e=U("observers"),t=Object(r.ge)("page_block_group_admin_tips"),i=t?0:1,o=function(e){var t=U("itemsViewingTimeouts");return(i,o)=>{i.forEach(i=>{var r=i.target,s=attr(r,"data-type"),n="section"===s?.8:1;if(i.intersectionRatio>=n){if(t&&t.hasOwnProperty(s)&&t[s])return;t[s]=setTimeout(()=>{o.unobserve(r),"section"===s?T(1,"section"):T(1,"item",{in_admin:e,type:s}),x(t,s)},2e3)}else x(t,s)})}}(i);if(t&&!t.firstElementChild){var s=new IntersectionObserver(o,{threshold:[0,.8]});s.observe(t),e.push(s)}else{if(!i){var n=new IntersectionObserver(o,{threshold:[0,.8]});n.observe(t),e.push(n)}var a=Object(r.domQuery)(".group_edit_admin_tips_item.group_edit_admin_tips_item_not_completed");if(a.length){var d=new IntersectionObserver(o,{threshold:[0,1]});a.forEach(e=>{d.observe(e)}),e.push(d)}}}}function x(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U("itemsViewingTimeouts"),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null!=e&&(null!==t?e.hasOwnProperty(t)&&e[t]&&(clearTimeout(e[t]),delete e[t]):(Object.keys(e).forEach(t=>{clearTimeout(e[t])}),B("itemsViewingTimeouts",{})))}function L(){if(!U("isModer")){var e=U("observers");null!=e&&(e.forEach(e=>{e.disconnect()}),B("observers",[])),x()}}function B(e,t){window.hasOwnProperty("cur")&&window.cur&&!window.cur.hasOwnProperty("admin_tips")&&(window.cur.admin_tips={}),window.cur.admin_tips[e]=t}function U(e){return window.hasOwnProperty("cur")&&window.cur&&window.cur.hasOwnProperty("admin_tips")&&window.cur.admin_tips.hasOwnProperty(e)?window.cur.admin_tips[e]:null}function P(e){return Object(r.ge)("group_edit_admin_tips_item_"+e)}var M=i("0CRY");window.GroupsAdmins=new class{init(e){var t=e.admin_tips_available,i=e.admin_tips_mode,o=e.admin_tips_location;t&&(window.GroupsAdminTips=I,I.init(i,o)),e&&e.hasOwnProperty("chats_edit_available")&&e.chats_edit_available&&window.GeChats.init(e.chats_edit_options)}coverUploadBox(e){new M.default(e).showBox()}},window.GroupsOnboarding=new class{constructor(){this.inlineElements=[],this.tutorial=!1}initInlineElements(){geByClass("onboarding_placeholder").forEach(e=>{if(Object(r.hasClass)(e,"address")){var t=Object(r.geByClass1)("line_div_icon",e);Object(s.addEvent)(t,"click",i=>{Object(s.cancelEvent)(i),this.sendHide(e),Object(r.re)(t),Object(r.re)(e)})}else{Object(r.domData)(e,"type");var i=new h(this,e);this.inlineElements.push(i)}}),Object(s.addEvent)(window,"keydown",this.onWindowKeyDown.bind(this)),Object(s.addEvent)(document,"mousedown",this.onDocumentMouseDown.bind(this))}initTutorial(e,t,i,o){this.tutorial=new p(e,t,i,o),o?browser.chrome?setTimeout(()=>this.tutorial.showStep(),1e3):this.tutorial.showStep():this.tutorial.showWelcomeBox()}onWindowKeyDown(e){e.keyCode==KEY.ESC&&this.resetInlineElements()}onDocumentMouseDown(e){for(var t=e.target;t.parentNode;){if(Object(r.hasClass)(t,"line_edit"))return!0;t=t.parentNode}return this.resetInlineElements(),!0}resetInlineElements(e){for(var t in this.inlineElements)if(this.inlineElements[t]){var i=this.inlineElements[t];e&&i==e||i.disableInput()}}showAddressBox(e,t){return new v.default(e,t,null,!0,(function(e){var t=e.address_edit_html,i=e.address,o=e.admin_tips_section_html,s=Object(r.domQuery1)(".group_info_row.onboarding_placeholder.address"),a=g(Object(r.sech)(t),2),d=a[0],l=a[1],h=void 0===l?null:l;Object(r.domReplaceEl)(s,d),null!==h&&Object(r.domInsertAfter)(h,d),window.Addresses.initInfo(i),Object(n.isString)(o)&&window.hasOwnProperty("GroupsAdminTips")&&window.GroupsAdminTips.refreshSection(o)})).create(),!1}showMenuPlaceholder(e,t){return Object(_.linkLocked)(e)||(Object(s.cancelEvent)(t),this.sendHide(e,()=>{var e=Object(r.domQuery1)("#group_section_menu");e&&Object(r.removeClass)(e,"hided")},!0,!0)),!1}hideMenuPlaceholder(e,t){return Object(_.linkLocked)(e)||(Object(s.cancelEvent)(t),this.sendHide(e,()=>{var e=Object(r.domQuery1)("#group_section_menu");e&&Object(r.addClass)(e,"hided")},!0)),!1}sendHide(e,t,i,o){var s=Object(r.domData)(e,"hide-hash"),a={act:"a_hide_inline",id:Object(r.domData)(e,"group-id"),hash:s,type:Object(r.domData)(e,"type"),reset:o?1:0},d={onDone:!!Object(n.isFunction)(t)&&t,showProgress:!!i&&_.lockLink.pbind(e),hideProgress:!!i&&_.unlockLink.pbind(e)};ajax.post("groupsedit_onboarding.php",a,d)}};try{window.stManager.done(jsc("web/groups_admins.js"))}catch(e){}}});